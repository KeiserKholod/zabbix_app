# zabbix app
## Требования

- ***Python 3.5***

- ***py-zabbbix***

- ***GIT client***
## Инструкция
Для передачи параметров можно использовать аргументы в консоли, либо файл zabapp.conf.

Также, возможно комбинированное использование способов задачи конфигураций.

При таком использовании, параметры переданные через консоль имеют больший приоритет, чем те, что были получены из файла.

1) пример запуска с использованием конфигураций из zabapp.conf
```
python main.py
```
2) пример запуска с комбинированным получением конфигураций
```
python main.py --link "http://zabbix.local/zabbix" --pass "StrongPass" --login "Admin"
```
Для операции восстановления конфигураций следует использовать ключ --set

Обьекты для восстановления берутся из файла to_change.conf

3) пример запуска программы для восстановления конфигураций обьекта
```
python main.py --pass "StrongPass" --login "Admin" --set
```
Полный список параметров запуска можно узнать с помощью команды --help

4) получение справки
```
python main.py --help
```
5) в ходе работы программа будет генерировать логи

- Посмотреть логи можно в файле ***zabapp.log*** по умолчанию
- Сменить адрес можно с помощью параметра ***log***

## Структура zabapp.conf
Файл записывается в формате:
```
ключ = значение
```
Пример стурктуры файла:
```
pass = StrongPass
login = Admin
#comment
```
- Не рекомендуется использовать пробелы в поле "значение", т.к все пробелы удаляются при обработке
- При необходимости, можно закомментировать строчку с помощью символа #

пример: 
```
#key = value
```
## структура to_change.conf
Файл состоит из имен хостов, конфигурации которых необходимо восстановить

В качестве имени следует использовать именно параметр host из Zabbix

Пример стурктуры файла:
```
host1
host2
host3
```
